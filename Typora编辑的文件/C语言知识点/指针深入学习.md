# 数组传参

---

## 一维数组传参


```c
void test(int arr[10]) {
    for (int i = 0; i < 10; i++) {
        arr[i] = i; 
    }
}               //right

void test1(int arr[]) {
    for (int i = 0; i < 10; i++) {
        arr[i] = i; 
    }
}               //right

void test2(int *arr) {
    for (int i = 0; i < 10; i++) {
        arr[i] = i; 
    }
}               //right

void test3(int *arr[10]) {
    for (int i = 0; i < 10; i++) {
        arr[i] = i; 
    }
}                 			// error

void test4(int *arr[20]) {

}                 //right

void test5(int **arr2) {

}                 //right

int main() {
   int arr[10] = {0}; 
   int *arr2[20] = {0}; 
   test (arr); 
    for (int i = 0; i < 10; i++) {
        printf("%d ", arr[i]); 
    }
    return 0; 
}
```

## 二位数组传参

---

二维数组传参行可以省略,列不可以省略

二维数组的数组名,表示首元素的地址, 其实是第一行的地址

一行是一个一维数组

```c
void test(int arr[3][5]) {

}               //right

void test(int arr[][]) {

}                           //error

void test(int arr[][5]) {

}               //right
void test

int main() {
    int arr[3][5] = {0}; 
    test(arr); 
    return 0; 
}
```



```c
void test1(int *arr) {

}               //error

void test2(int* arr[5]) {

}				//error

void test3(int (*arr)[5]) {

}				//right

void test4(int **arr) {

}				//error

int main() {
    int arr[3][5] = {0}; 
    test(arr); 
    return 0; 
}
```



`int arr[3][5]` 是一个二维数组，在内存中按行优先顺序存储。当数组名 `arr` 在表达式中使用时，它会退化为指向第一行的指针，即：

- `arr 的类型是 `int (*)[5]`（指向包含5个int的数组的指针）
- 但 `test` 函数期望的参数是 `int **`（指向int指针的指针）

`int arr[3][5]` 在传递给函数时会退化为 `int (*)[5]` 类型

# 指针传参

---

## 一级指针传参

```c
void print(int *p) {
    for (int i = 0; i < 5; i++) {
        printf("%d ", p[i]); 
    }
}
int main() {
    int arr[5] = {1,2,3,4,5};
    int* p = arr; 
    print(p);  
    
    return 0; 
}
```



```c
void print(int* p) {    
    printf("%d ", *p); 
}
int main() {
    int a = 5; 
    int *p = &a; 
    int arr[5] = {1,2,3,4,5}; 
    print(p);  
    print(arr); 
    return 0; 
}
```

## 二级指针传参

-----

```c
void test(int** ptr) {
    printf("num = %d", **ptr); 
}
int main() {
    int n = 10;
    int *p = &n; 
    int **pp = *p; 
    int* arr[5]; 
    tst(pp);                //right        
    test(&p);               //right
    test(arr);              //right 指针数组的每一个元素都是指针类型，arr是首元素的地址，也就是一级指针的地址
}
```

